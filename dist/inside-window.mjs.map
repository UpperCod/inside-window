{"version":3,"file":"inside-window.mjs","sources":["../src/index.js"],"sourcesContent":["export function watch(selector, offsetX, offsetY, handler) {\r\n    let frameWidth = window.innerWidth + offsetX,\r\n        frameHeight = window.innerHeight + offsetY,\r\n        status = \"__inside_window__\";\r\n    (typeof selector === \"string\"\r\n        ? document.querySelectorAll(selector)\r\n        : selector\r\n    ).forEach(target => {\r\n        let { x, y, width, height } = target.getBoundingClientRect(),\r\n            inY,\r\n            inX;\r\n        if (Math.abs(y) > frameHeight || Math.abs(x) > frameWidth) return;\r\n\r\n        y = y > offsetY ? y - offsetY : y;\r\n        height = height + offsetY;\r\n\r\n        x = x > offsetX ? x - offsetX : x;\r\n        height = height + offsetX;\r\n\r\n        if (frameHeight > y && y + height > 0) {\r\n            inY = true;\r\n        }\r\n        if (frameHeight > x && x + width > 0) {\r\n            inX = true;\r\n        }\r\n        if (inX && inY) {\r\n            if (!target[status]) {\r\n                handler(target, true);\r\n                target[status] = true;\r\n            }\r\n        } else {\r\n            if (target[status]) handler(target, false);\r\n            target[status] = false;\r\n        }\r\n    });\r\n}\r\n\r\nexport function insideWindow({\r\n    selector,\r\n    timeout = 1000 / 8,\r\n    offsetX = 0,\r\n    offsetY = 50,\r\n    handler\r\n}) {\r\n    let loop = setInterval(() => {\r\n        watch(selector, offsetX, offsetY, handler);\r\n    }, timeout);\r\n    return () => clearInterval(loop);\r\n}\r\n"],"names":["watch","selector","offsetX","offsetY","handler","let","frameWidth","window","innerWidth","frameHeight","innerHeight","status","document","querySelectorAll","forEach","target","inY","inX","getBoundingClientRect","Math","abs","y","x","height","width","insideWindow","ref","loop","setInterval","timeout","clearInterval"],"mappings":"AAAO,SAASA,EAAMC,EAAUC,EAASC,EAASC,GAC9CC,IAAIC,EAAaC,OAAOC,WAAaN,EACjCO,EAAcF,OAAOG,YAAcP,EACnCQ,EAAS,qBACQ,iBAAbV,EACFW,SAASC,iBAAiBZ,GAC1BA,GACJa,iBAAQC,GACN,IACIC,EACAC,IAF0BF,EAAOG,yDAGjCC,KAAKC,IAAIC,GAAKZ,GAAeU,KAAKC,IAAIE,GAAKhB,IAG/CiB,GAAkBpB,EAGlBoB,GAAkBrB,EAEdO,GANJY,EAAIA,EAAIlB,EAAUkB,EAAIlB,EAAUkB,IAMTA,EAAIE,EAAS,IAChCP,GAAM,GAENP,GANJa,EAAIA,EAAIpB,EAAUoB,EAAIpB,EAAUoB,IAMTA,EAAIE,EAAQ,IAC/BP,GAAM,GAENA,GAAOD,EACFD,EAAOJ,KACRP,EAAQW,GAAQ,GAChBA,EAAOJ,IAAU,IAGjBI,EAAOJ,IAASP,EAAQW,GAAQ,GACpCA,EAAOJ,IAAU,MAKtB,SAASc,EAAaC,+CAEf,oCACA,kCACA,oBAGNC,EAAOC,uBACP5B,EAAMC,EAAUC,EAASC,EAASC,IACnCyB,GACH,yBAAaC,cAAcH"}