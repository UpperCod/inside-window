{"version":3,"file":"inside-window.mjs","sources":["../src/index.js"],"sourcesContent":["export function match(selector, handler, offsetX, offsetY) {\r\n    let frameWidth = window.innerWidth + offsetX,\r\n        frameHeight = window.innerHeight + offsetY,\r\n        status = \"__inside_window__\";\r\n\r\n    (typeof selector === \"string\"\r\n        ? document.querySelectorAll(selector)\r\n        : selector\r\n    ).forEach(target => {\r\n        let { x, y, width, height } = target.getBoundingClientRect(),\r\n            inY,\r\n            inX;\r\n\r\n        if (Math.abs(y) > frameHeight || Math.abs(x) > frameWidth) {\r\n            if (target[status]) handler(target, false);\r\n            target[status] = false;\r\n        } else {\r\n            y = y > offsetY ? y - offsetY : y;\r\n            height = height + offsetY;\r\n\r\n            x = x > offsetX ? x - offsetX : x;\r\n            height = height + offsetX;\r\n\r\n            if (frameHeight > y && y + height > 0) {\r\n                inY = true;\r\n            }\r\n            if (frameHeight > x && x + width > 0) {\r\n                inX = true;\r\n            }\r\n            if (inX && inY) {\r\n                if (!target[status]) {\r\n                    handler(target, true);\r\n                }\r\n                target[status] = true;\r\n            } else {\r\n                if (target[status]) handler(target, false);\r\n                target[status] = false;\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport function create({\r\n    selector,\r\n    timeout = 1000 / 8,\r\n    offsetX = 0,\r\n    offsetY = 50,\r\n    handler\r\n}) {\r\n    let loop = setInterval(() => {\r\n        match(selector, handler, offsetX, offsetY);\r\n    }, timeout);\r\n    return () => clearInterval(loop);\r\n}\r\n"],"names":["match","selector","handler","offsetX","offsetY","let","frameWidth","window","innerWidth","frameHeight","innerHeight","status","document","querySelectorAll","forEach","target","inY","inX","getBoundingClientRect","Math","abs","y","x","height","width","create","ref","loop","setInterval","timeout","clearInterval"],"mappings":"AAAO,SAASA,EAAMC,EAAUC,EAASC,EAASC,GAC9CC,IAAIC,EAAaC,OAAOC,WAAaL,EACjCM,EAAcF,OAAOG,YAAcN,EACnCO,EAAS,qBAEQ,iBAAbV,EACFW,SAASC,iBAAiBZ,GAC1BA,GACJa,iBAAQC,GACN,IACIC,EACAC,IAF0BF,EAAOG,yDAIjCC,KAAKC,IAAIC,GAAKZ,GAAeU,KAAKC,IAAIE,GAAKhB,GACvCS,EAAOJ,IAAST,EAAQa,GAAQ,GACpCA,EAAOJ,IAAU,IAGjBY,GAAkBnB,EAGlBmB,GAAkBpB,EAEdM,GANJY,EAAIA,EAAIjB,EAAUiB,EAAIjB,EAAUiB,IAMTA,EAAIE,EAAS,IAChCP,GAAM,GAENP,GANJa,EAAIA,EAAInB,EAAUmB,EAAInB,EAAUmB,IAMTA,EAAIE,EAAQ,IAC/BP,GAAM,GAENA,GAAOD,GACFD,EAAOJ,IACRT,EAAQa,GAAQ,GAEpBA,EAAOJ,IAAU,IAEbI,EAAOJ,IAAST,EAAQa,GAAQ,GACpCA,EAAOJ,IAAU,MAM1B,SAASc,EAAOC,+CAET,oCACA,kCACA,oBAGNC,EAAOC,uBACP5B,EAAMC,EAAUC,EAASC,EAASC,IACnCyB,GACH,yBAAaC,cAAcH"}